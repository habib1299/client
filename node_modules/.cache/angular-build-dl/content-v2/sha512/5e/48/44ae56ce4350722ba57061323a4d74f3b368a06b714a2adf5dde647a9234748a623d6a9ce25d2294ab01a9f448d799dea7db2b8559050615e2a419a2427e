{"version":3,"sources":["./src/app/MyFolderwork/User/verifypaymentuser/verifypaymentuser-routing.module.ts","./src/app/MyFolderwork/User/verifypaymentuser/verifypaymentuser.component.ts","./src/app/MyFolderwork/User/verifypaymentuser/verifypaymentuser.component.html","./src/app/MyFolderwork/User/verifypaymentuser/verifypaymentuser.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AACoB;;;AAE3E,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,uFAA0B;KAChD;CACF,CAAC;AAMK,MAAM,8BAA8B;;6GAA9B,8BAA8B;sLAA9B,8BAA8B,kBAHhC,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC9B,4DAAY;mIAEX,8BAA8B,uFAF/B,4DAAY;6FAEX,8BAA8B;cAJ1C,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;aACxB;;;;;;;;;;;;;;;;;;;;;;;;;ACZiD;AAEd;AAE4B;;;;;;;ICKhD,0EAAgG;IAAA,uDAAiB;IAAO,4DAAM;;;IAA1F,mHAA2D;IAAC,0DAAiB;IAAjB,+FAAiB;;;IAOjH,2EAA+C;IAAA,sHAAc;IAAA,4DAAO;;;IACpE,sEAA2F;;;IAC3F,2EAA+C;IAAA,8HAAY;IAAA,4DAAO;;;ADP3E,MAAM,0BAA0B;IAarC,YAAoB,MAAa,EAAU,EAAc,EAAS,IAAe;QAA7D,WAAM,GAAN,MAAM,CAAO;QAAU,OAAE,GAAF,EAAE,CAAY;QAAS,SAAI,GAAJ,IAAI,CAAW;QAZjF,QAAG,GAAE,6EAAW,CAAC,OAAO,CAAC;QAOzB,UAAK,GAAW,KAAK,CAAC;QACtB,UAAK,GAAW,KAAK,CAAC;QACtB,cAAS,GAAW,KAAK,CAAC;QAIxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IACD,YAAY,CAAC,KAAK;QAEhB,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAClC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC1C,OAAO,CAAC,GAAG,CAAC,cAAc,EAAC,IAAI,CAAC,YAAY,CAAC;SAC7C;QACH,4CAA4C;QAE5C,8CAA8C;QAC9C,6DAA6D;QAE7D,0CAA0C;QAC1C,iCAAiC;QACjC,QAAQ;IAER,CAAC;IACK,QAAQ;;YAEd,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;YAC/B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACjD,IAAI,OAAO,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;YACrC,IAAI,KAAK,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,CAAC;YACxD,IAAI,CAAC,GAAG,GAAG,0DAAU,CAAC,KAAK,CAAC,CAAC;YAC7B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,aAAa,CAAC;YACvE,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,IAAI,CAAC,GAAG,GAAC,aAAa,GAAC,GAAG,GAAC,IAAI,CAAC,aAAa,CAAC,CAAC,SAAS,CAC/E,GAAS,EAAE;gBACX,IAAI,OAAO,GAAG,IAAI,cAAc,EAAE,CAAC;gBACnC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,GAAG,GAAC,aAAa,GAAC,GAAG,GAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBACrE,MAAM,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAClC,OAAO,CAAC,MAAM,GAAG,GAAG,EAAE;oBACpB,IAAG,OAAO,CAAC,MAAM,IAAI,GAAG,IAAI,OAAO,CAAC,MAAM,IAAI,GAAG,EAAC;wBAChD,IAAI,CAAC,YAAY,GAAE,0BAA0B,CAAC;wBAC9C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;wBACtB,IAAI,CAAC,KAAK,GAAC,KAAK,CAAC;qBAClB;oBACD,IAAG,OAAO,CAAC,MAAM,IAAI,GAAG,EAAC;wBACvB,IAAI,CAAC,YAAY,GAAG,uBAAuB,CAAC;wBAC5C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;wBACtB,IAAI,CAAC,KAAK,GAAC,IAAI,CAAC;qBACjB;gBACF,CAAC;YAEP,CAAC,EAAC,CAAC;QACH,CAAC;KAAA;IACK,oCAAoC;IACpC,yDAAyD;IACzD,iEAAiE;IACjE,2EAA2E;IAC3E,mEAAmE;IACnE,iEAAiE;IACjE,2DAA2D;IAC3D,6EAA6E;IAC7E,8CAA8C;IAC9C,qCAAqC;IACnC,eAAe;IACf,yCAAyC;IACzC,uCAAuC;IACvC,2DAA2D;IAC3D,iDAAiD;IACjD,mDAAmD;IACnD,iDAAiD;IACjD,2CAA2C;IAC3C,kCAAkC;IAClC,MAAM;IACN,4BAA4B;IAC5B,mCAAmC;IACnC,0BAA0B;IAC1B,sCAAsC;IACtC,iCAAiC;IACjC,MAAM;IACN,qCAAqC;IACrC,+BAA+B;IAErC,QAAQ;QACN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC1B,KAAK,EAAE,CAAC,EAAE,CAAC;SACf,CAAC,CAAC;IACL,CAAC;IACD,WAAW;QACT,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IACD,MAAM;QACJ,YAAY,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;IACxC,CAAC;;oGAvGU,0BAA0B;0GAA1B,0BAA0B;QCZvC,yEACI;QAAA,yEACE;QACA,wEAAoE;QAAA,yKAAoB;QAAA,4DAAK;QAC7F,yEACE;QAAA,yEACE;QAAA,yEACE;QAAA,yEACE;QAAA,wEAAyB;QAAA,gLAAsB;QAAA,4DAAK;QACpD,2EACE;QAD4B,6JAAY,cAAU,IAAC;QACnD,wHAAgG;QAChG,2EACI;QAAA,6EACA;QAD6C,0JAAU,wBAAoB,IAAC;QAA5E,4DACA;QAAA,6EAA2D;QAAA,6HAAe;QAAA,4DAAQ;QACpF,4DAAM;QAAA,iEAAI;QAAA,iEAEd;QAAA,8EACE;QAD2D,yJAAS,iBAAa,IAAC;QAClF,2HAA+C;QAC/C,2HAAoF;QACpF,2HAA+C;QACjD,4DAAS;QACT,8EAAgF;QAAnB,yJAAS,YAAQ,IAAC;QAAC,oFAAI;QAAA,4DAAS;QAC/F,4DAAO;QACL,yEAA4B;QAAA,yIAAiB;QAAA,yEAAoD;QAAA,mHAAS;QAAA,4DAAI;QAAA,4DAAI;QACpH,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;;QApBY,2DAAuB;QAAvB,oFAAuB;QACtB,0DAAiB;QAAjB,+EAAiB;QAOhB,0DAAsB;QAAtB,+EAAsB;QACtB,0DAAsB;QAAtB,+EAAsB;QACtB,0DAAuB;QAAvB,gFAAuB;QAIiB,0DAA+B;QAA/B,6IAA+B;;6FDXhF,0BAA0B;cALtC,uDAAS;eAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,WAAW,EAAE,oCAAoC;gBACjD,SAAS,EAAE,CAAC,oCAAoC,CAAC;aAClD;;;;;;;;;;;;;;AEXD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AACS;AACS;AACT;AACmB;AACS;AAC/B;;AAa9C,MAAM,uBAAuB;;sGAAvB,uBAAuB;wKAAvB,uBAAuB,mBAFxB,CAAC,qEAAwB,CAAC,YAP3B;YACP,4DAAY;YACZ,gGAA8B;YAC9B,wEAAY;YACZ,qEAAgB;YAChB,kEAAmB;SACpB;mIAGU,uBAAuB,mBAVpB,uFAA0B,aAEtC,4DAAY;QACZ,gGAA8B;QAC9B,wEAAY;QACZ,qEAAgB;QAChB,kEAAmB;6FAIV,uBAAuB;cAXnC,sDAAQ;eAAC;gBACR,YAAY,EAAC,CAAC,uFAA0B,CAAC;gBACzC,OAAO,EAAE;oBACP,4DAAY;oBACZ,gGAA8B;oBAC9B,wEAAY;oBACZ,qEAAgB;oBAChB,kEAAmB;iBACpB;gBACD,SAAS,EAAC,CAAC,qEAAwB,CAAC;aACrC","file":"MyFolderwork-User-verifypaymentuser-verifypaymentuser-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { VerifypaymentuserComponent } from './verifypaymentuser.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '', component: VerifypaymentuserComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class VerifypaymentuserRoutingModule { }\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport jwt_decode from \"jwt-decode\";\nimport { Router } from '@angular/router';\nimport { environment } from 'src/environments/environment.prod';\n\n@Component({\n  selector: 'app-verifypaymentuser',\n  templateUrl: './verifypaymentuser.component.html',\n  styleUrls: ['./verifypaymentuser.component.scss']\n})\nexport class VerifypaymentuserComponent implements OnInit {\n  URL =environment.BaseUrl;\n  selectedFile: File;\n  public btnLoader: boolean;\n  verifForm:FormGroup;\n  jwt:any;\n  formData:FormData;\n  appartementID:any;\n  error:boolean = false;\n  succe:boolean = false;\n  verifCash:boolean = false;\n  ErrorMessage : string;\n\n  constructor(private router:Router ,private fb:FormBuilder,private http:HttpClient) {\n    this.btnLoader = false;\n  }\n  onFileSelect(event) {\n    \n    if (event.target.files.length > 0) {\n     this.selectedFile = event.target.files[0];\n     console.log('selectd file',this.selectedFile)\n    }\n  //   this.selectedFile = event.target.files;\n    \n  //   console.log('image',this.selectedFile[0])\n  //   this.formData.append('image', this.selectedFile[0].name)\n\n  //  this.formData.forEach((value,key) => {\n  //     console.log(key+\" \"+value)\n  //   });\n   \n  }\n  async onSubmit(){\n    \n  this.formData = new FormData();\n  this.formData.append('image', this.selectedFile);\n  var options = { image: this.formData };\n    var token = (localStorage.getItem('JWT_Token') || '{}');\n    this.jwt = jwt_decode(token);\n    this.appartementID = JSON.parse(this.jwt.AppartmentData).appartementId;\n    await this.http.get<any>(this.URL+'Appartement'+'/'+this.appartementID).subscribe\n     (async () =>{\n      var request = new XMLHttpRequest();\n      request.open(\"PATCH\",this.URL+'Appartement'+'/'+this.appartementID);\n     await request.send(this.formData);\n     request.onload = () =>{\n       if(request.status == 400 || request.status == 500){\n         this.ErrorMessage =\"الصورة تم إرسالها بالفعل\";\n         this.verifCash = true;\n         this.succe=false;\n       }\n       if(request.status == 200){\n         this.ErrorMessage = \"تم إرسال الصورة بنجاح\";\n         this.verifCash = true;\n         this.succe=true;\n       }\n      }\n       \n});\n}\n      //  const formData = new FormData();\n      //  formData.append('appartementId', data.appartementId);\n      //  formData.append('appartementNumber', data.appartementNumber);\n      //  formData.append('appartementFacturePrix', data.appartementFacturePrix);\n      //  formData.append('appartementPercent', data.appartementPercent);\n      //  formData.append('appartementStatus', data.appartementStatus);\n      //  formData.append('architectureId', data.architectureId);\n      //  formData.append('appartementFactureImage', data.appartementFactureImage);\n      //  formData.append('image', verifForm.value);\n      //  console.log('formData',formData);\n        //  let obj = {\n        //    \"appartementId\":data.appartementId,\n        //    \"appartementFactureImage\":\"null\",\n        //    \"appartementFacturePrix\":data.appartementFacturePrix,\n        //    \"appartementNumber\":data.appartementNumber,\n        //    \"appartementPercent\":data.appartementPercent,\n        //    \"appartementStatus\":data.appartementStatus,\n        //    \"architectureId\":data.architectureId,\n        //    \"image\":this.selectedFile[0]\n        //   }\n        //   console.log('objj',obj)\n        //   var formData = new FormData();\n        //   for( var key in obj){\n        //     formData.append(key, obj[key]);\n        //     console.log(key,obj[key]);\n        //   }\n        //   console.log('formdata',formData)\n        // console.log('data',formData)\n\n  ngOnInit() {\n    this.verifForm = this.fb.group({\n         image: ['']\n    });\n  }\n  onBtnLoader() {\n    this.btnLoader = true;\n    setTimeout(() => {\n      this.btnLoader = false;\n    }, 2000);\n  }\n  logOut(){\n    localStorage.removeItem(\"JWT_Token\");\n    this.router.navigate(['auth/signin']);\n  }\n}\n","<div class=\"auth-wrapper\">\n    <div class=\"auth-content text-center\">\n      <!-- <img src=\"assets/images/auth/auth-logo.png\" alt=\"\" class=\"img-fluid mb-4\"> -->\n      <h2 class=\"img-fluid mb-4\" style=\"color: rgba(255, 255, 255, 0.8);\">مؤسّسة نبل للعقّارات</h2>\n      <div class=\"card borderless\">\n        <div class=\"row align-items-center text-center\">\n          <div class=\"col-md-12\">\n            <div class=\"card-body\">\n              <h4 class=\"mb-3 f-w-400\">تحقق من الدفع الفاتورة</h4>\n              <form [formGroup]=\"verifForm\" (ngSubmit)=\"onSubmit()\" ngNativeValidate>\n                <div *ngIf=\"verifCash\" role=\"alert\" [class]=\"succe ? 'alert alert-info' : 'alert alert-danger'\">{{ErrorMessage}} <!----></div>\n                <div class=\"custom-file\">\n                    <input type=\"file\" class=\"custom-file-input\" (change)=\"onFileSelect($event)\" name=\"image\" placeholder=\"تصفح\">\n                    <label class=\"custom-file-label\" for=\"validatedCustomFile\">...اختر الصورة </label>\n                  </div><br><br>\n            \n              <button class=\"btn btn-primary btn-block mb-4\" type=\"submit\" (click)=\"onBtnLoader()\">\n                <span *ngIf=\"this.btnLoader\" class=\"load-text\">...جاري تحميل </span>\n                <span *ngIf=\"this.btnLoader\" class=\"spinner-border spinner-border-sm\" role=\"status\"></span>\n                <span *ngIf=\"!this.btnLoader\" class=\"btn-text\">دفع الفاتورة</span>\n              </button>\n              <button class=\"btn btn-primary btn-block mb-4\" type=\"button\" (click)=\"logOut()\">خروج</button>\n            </form>\n              <p class=\"mb-0 text-muted\"> ليس لديك حساب ؟  <a [routerLink]=\"['/auth/signup']\" class=\"f-w-400\"> االإشتراك</a></p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport {SharedModule} from '../../../theme/shared/shared.module';\r\nimport { HttpInterceptorProviders } from 'src/app/CORE';\r\nimport { VerifypaymentuserComponent } from './verifypaymentuser.component';\r\nimport { VerifypaymentuserRoutingModule } from './verifypaymentuser-routing.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations:[VerifypaymentuserComponent],\r\n  imports: [\r\n    CommonModule,\r\n    VerifypaymentuserRoutingModule,\r\n    SharedModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  providers:[HttpInterceptorProviders]\r\n})\r\nexport class VerifypaymentuserModule { }\r\n"],"sourceRoot":"webpack:///"}